# Проектирование реляционных баз данных: от концептуальной модели до физической реализации с помощью ORM

# ОГЛАВЛЕНИЕ

- [ВВЕДЕНИЕ](#введение)
- [1. Концептуальное проектирование реляционных баз данных](#1-концептуальное-проектирование-реляционных-баз-данных)
- [2. Логическая модель данных и нормализация](#2-логическая-модель-данных-и-нормализация)
  - [2.1. Первая нормальная форма](#21-первая-нормальная-форма)
  - [2.2. Вторая нормальная форма](#22-вторая-нормальная-форма)
  - [2.3. Третья нормальная форма](#23-третья-нормальная-форма)
- [3. Физическая реализация реляционной базы данных](#3-физическая-реализация-реляционной-базы-данных)
- [4. Использование ORM (Object-Relational Mapping)](#4-использование-ORM-Object-Relational-Mapping)
  - [4.1. Разные реализации ORM паттерна](#41-разные-реализации-ORM-паттерна)
  - [4.2. Преимущества и недостатки ORM](#42-преимущества-и-недостатки-ORM)
- [ЗАКЛЮЧЕНИЕ](#заключение)
- [СПИСОК ЛИТЕРАТУРЫ](#список-литературы)

---

## ВВЕДЕНИЕ

Проектирование баз данных является одним из ключевых этапов создания информационных систем. От корректности структуры данных, их связей и способов хранения напрямую зависят производительность, масштабируемость и надёжность программного обеспечения. В современных условиях разработки всё чаще используются объектно-ориентированные языки программирования, что приводит к необходимости согласования объектной модели приложения с реляционной моделью базы данных.

Традиционный процесс проектирования реляционных баз данных включает несколько этапов: концептуальное, логическое и физическое проектирование. Каждый из этих этапов решает свою задачу — от абстрактного описания предметной области до конкретной реализации таблиц, индексов и ограничений целостности.

Для упрощения взаимодействия между объектной моделью приложения и реляционной базой данных широко применяются ORM‑технологии (Object-Relational Mapping). Они позволяют разработчикам работать с данными в терминах объектов и классов, автоматически преобразуя их в SQL‑запросы и структуры хранения.

Цель реферата — рассмотреть процесс проектирования реляционных баз данных от концептуальной модели до физической реализации, а также проанализировать роль и особенности использования ORM в современных информационных системах.

---

## 1. Концептуальное проектирование реляционных баз данных

Концептуальное проектирование является начальным и наиболее абстрактным этапом создания базы данных. Его основной задачей является формализация предметной области без привязки к конкретной СУБД или способу хранения данных. На данном этапе определяется:

1.  какие сущности есть в системе;
2.	какими свойствами они обладают;
3.	каковы связи между сущностями.

Наиболее распространённым инструментом концептуального моделирования является ER‑модель (Entity–Relationship), предложенная Питером Ченом. В рамках данной модели используются следующие элементы:

- сущность — объект предметной области, представляющий интерес для системы;
- атрибут — характеристика сущности;
- связь — логическое отношение между сущностями. Связи бывают следующих типов: один к одному (one to one), один к многим (one to many), многие ко многим (many to many).

Например, для информационной системы учебного заведения можно выделить следующие сущности:
- Студент (ФИО, номер зачетной книжки и т.д.);
- Группа (наименование, специальность).

Связь между ними:
- Каждый студент принадлежит одной группе;
- Связь «Студент учится в Группе» (один ко многим: одна Группа → много Студентов).
 
---

## 2. Логическая модель данных и нормализация

Логическое проектирование представляет собой переход от концептуальной модели к формальной структуре реляционной базы данных. На этом этапе сущности преобразуются в таблицы, атрибуты в столбцы, а связи во внешние ключи.

Ключевым элементом логического проектирования является нормализация данных. Нормализация — это процесс приведения структуры базы данных к формам, минимизирующим избыточность и аномалии обновления. На практике чаще всего применяются первые три нормальные формы:

- Первая нормальная форма (1НФ) требует атомарности значений атрибутов.
- Вторая нормальная форма (2НФ) устраняет частичные зависимости от составного ключа.
- Третья нормальная форма (3НФ) исключает транзитивные зависимости между не ключевыми атрибутами.

Результатом логического проектирования является схема реляционной базы данных, включающая перечень таблиц, первичные и внешние ключи, а также ограничения целостности. Данная схема уже независима от предметной области, но всё ещё не учитывает особенности конкретной СУБД.


### 2.1. Первая нормальная форма

Таблица находится в первой нормальной форме (1НФ), если все значения атрибутов атомарны (неделимы), в каждой ячейке таблицы хранится одно значение, а не список или набор, отсутствуют повторяющиеся группы столбцов.

1НФ упрощает обработку данных, делает возможными поиск, сортировку и обновление, создаёт основу для дальнейшей нормализации.

Пример 1НФ представлен в таблице 1:

**Таблица 1**
| FULL NAMES    | PHYSICAL ADDRESS      | MOVIES RENTED                 | SALUTATION |
|---------------|-----------------------|-------------------------------|------------|
| Janet Jones   | First Street Plot No 4 | Pirates of the Caribbean      | Ms.        |
| Janet Jones   | First Street Plot No 4 | Clash of the Titans           | Ms.        |
| Robert Phil   | 3rd Street 34         | Forgetting Sarah Marshal      | Mr.        |
| Robert Phil   | 3rd Street 34         | Daddy’s Little Girls          | Mr.        |
| Robert Phil   | 5th Avenue            | Clash of the Titans           | Mr.        |

### 2.2. Вторая нормальная форма

Таблица находится во второй нормальной форме (2НФ), если она находится в 1НФ и все не ключевые атрибуты полностью функционально зависят от всего первичного ключа, а не от его части.

Пример 2НФ представлен ниже:

**Таблица 2**
| MEMBERSHIP ID | FULL NAMES    | PHYSICAL ADDRESS      | SALUTATION |
|---------------|---------------|-----------------------|------------|
| 1             | Janet Jones   | First Street Plot No 4 | Ms.        |
| 2             | Robert Phil   | 3rd Street 34         | Mr.        |
| 3             | Robert Phil   | 5th Avenue            | Mr.        |

**Таблица 3**

| MEMBERSHIP ID | MOVIES RENTED            |
|---------------|--------------------------|
| 1             | Pirates of the Caribbean |
| 1             | Clash of the Titans      |
| 2             | Forgetting Sarah Marshal |
| 2             | Daddy’s Little Girls     |
| 3             | Clash of the Titans      |

### 2.3. Третья нормальная форма

Таблица находится в третьей нормальной форме (3НФ), если она находится во 2НФ и отсутствуют транзитивные зависимости, то есть не ключевые атрибуты не зависят друг от друга.

Пример 3НФ представлен ниже:

**Таблица 4**

| MEMBERSHIP ID | FULL NAMES    | PHYSICAL ADDRESS      | SALUTATION ID |
|---------------|---------------|-----------------------|---------------|
| 1             | Janet Jones   | First Street Plot No 4 | 2             |
| 2             | Robert Phil   | 3rd Street 34         | 1             |
| 3             | Robert Phil   | 5th Avenue            | 1             |

**Таблица 5**

| MEMBERSHIP ID | MOVIES RENTED            |
|---------------|--------------------------|
| 1             | Pirates of the Caribbean |
| 1             | Clash of the Titans      |
| 2             | Forgetting Sarah Marshal |
| 2             | Daddy’s Little Girls     |
| 3             | Clash of the Titans      |

**Таблица 6**

| SALUTATION ID | SALUTATION |
|---------------|------------|
| 1             | Mr.        |
| 2             | Ms.        |
| 3             | Mrs.       |
| 4             | Dr.        |

---

## 3. Физическая реализация реляционной базы данных

Физическое проектирование реляционной базы данных является заключительным этапом процесса проектирования и ориентировано на конкретную систему управления базами данных (СУБД), а также на особенности аппаратного и программного окружения. На данном этапе логическая модель базы данных преобразуется в структуру, пригодную для реального хранения и обработки данных. Основное внимание уделяется вопросам производительности, надежности и масштабируемости системы.

К основным задачам физического проектирования относится, прежде всего, выбор СУБД. На практике могут использоваться такие системы, как PostgreSQL, MySQL, Oracle, Microsoft SQL Server и другие. Выбор СУБД зависит от требований к объему данных, скорости обработки запросов, поддержке транзакций, средствам обеспечения безопасности и лицензированию.

Следующей важной задачей является определение оптимальных типов данных для столбцов таблиц. Корректный выбор типов данных позволяет снизить объем хранимой информации и повысить эффективность выполнения запросов. Например, использование типа DATE для хранения даты вместо строкового типа обеспечивает корректность данных и упрощает выполнение операций сортировки и фильтрации.

Важную роль в физическом проектировании играет создание индексов. Индексы позволяют значительно ускорить выполнение запросов на выборку данных, особенно при работе с большими объемами информации. Однако избыточное количество индексов может привести к замедлению операций вставки и обновления данных, поэтому их создание должно быть обоснованным.

Также на этапе физического проектирования выполняется настройка ссылочной целостности с помощью первичных и внешних ключей. Эти механизмы обеспечивают согласованность данных между связанными таблицами и предотвращают появление логических ошибок, таких как наличие записей-ссылок на несуществующие данные.

Немаловажной задачей является оптимизация производительности базы данных. Она включает настройку параметров хранения, анализ наиболее часто используемых запросов, а также применение ограничений (NOT NULL, UNIQUE, CHECK) и триггеров для обеспечения корректности и целостности данных.

Пример физической реализации таблицы в реляционной базе данных на языке SQL представлен ниже:

```sql
CREATE TABLE student (
    id SERIAL PRIMARY KEY,
    full_name VARCHAR(255) NOT NULL,
    birth_date DATE,
    email VARCHAR(100) UNIQUE
);

CREATE INDEX idx_student_full_name ON student(full_name);
```

---

## 4. Использование ORM (Object-Relational Mapping)

ORM (Object-Relational Mapping, объектно-реляционное отображение) — это технология, позволяющая разработчикам работать с реляционными базами данных через объекты программного кода, а не напрямую через SQL-запросы. Основная идея ORM заключается в том, чтобы связать таблицы базы данных с классами и объектами языка программирования, облегчая разработку и снижая вероятность ошибок при работе с данными.

Существует множество реализаций ORM для разных языков программирования. В Java наиболее известными являются Hibernate, который считается самым популярным ORM-фреймворком, а также JPA — стандартный интерфейс для работы с реляционными базами данных. Кроме того, для работы с SQL можно использовать MyBatis, который позволяет сопоставлять SQL-запросы с объектами Java.

Для Python популярны такие инструменты, как Django ORM, интегрированный в одноимённый веб-фреймворк SQLAlchemy предоставляющий мощные средства для работы с SQL и ORM, и более лёгкий Peewee, который подходит для небольших проектов.

В JavaScript/Node.js активно используют Sequelize, поддерживающий разные СУБД (PostgreSQL, MySQL, SQLite и другие), TypeORM, подходящий для TypeScript и JavaScript.

Для Ruby существует Active Record, а также более гибкие инструменты вроде Sequel и ROM.

В PHP популярны такие ORM, как Doctrine, Eloquent (Laravel) и Propel.

Пример использования SQLAlchemy:

```python
from sqlalchemy import Column, Integer, String
from sqlalchemy.orm import declarative_base

Base = declarative_base()

class Student(Base):
    __tablename__ = 'student'
    id = Column(Integer, primary_key=True)
    name = Column(String(100))
```


### 4.1. Разные реализации ORM паттерна

DAO (Data Access Object) или Repository — это слой абстракции, который отделяет логику доступа к базе данных от остального приложения. Обычно такие классы или интерфейсы пишутся вручную. Они предоставляют методы для добавления, обновления, удаления и получения данных, скрывая конкретные SQL-запросы от бизнес-логики. Такой подход облегчает поддержку кода и позволяет изменять СУБД без изменения логики работы приложения.

Active Record — это паттерн, при котором класс модели объединяет данные и методы для их сохранения, обновления и удаления. То есть объект отвечает и за представление данных, и за работу с базой. Active Record широко используется в Django ORM, Tortoise ORM, Orator и Ruby on Rails (Active Record). Такой подход упрощает работу с данными для небольших и средних проектов, но нарушает принцип единственной ответственности (SOLID), поскольку модель отвечает за хранение и бизнес-логику одновременно.

Data Mapper — это паттерн, при котором модель данных не знает о способе сохранения в базе. Отдельный слой или объект (например, EntityManager) отвечает за перенос данных между объектами в памяти и реляционной базой. Этот подход обеспечивает лучшее разделение ответственности и подходит для сложных приложений, где важна гибкость и масштабируемость. SQLAlchemy в Python является примером реализации Data Mapper.


### 4.2. Преимущества и недостатки ORM

Использование ORM позволяет сократить количество ручного SQL-кода и ускоряет разработку приложений, так как стандартные операции, такие как создание, обновление или удаление записей, выполняются автоматически. ORM поддерживает разные системы управления базами данных, что упрощает перенос проекта с одной СУБД на другую. Кроме того, работа через объекты и методы языка программирования снижает вероятность ошибок, связанных с нарушением целостности данных.

Однако ORM имеет и недостатки. Автоматическая генерация SQL-запросов может быть менее оптимальной по сравнению с тщательно написанными вручную запросами, что иногда снижает производительность. Для сложных аналитических операций и отчетов нередко требуется прямое использование SQL. Абстракция ORM скрывает детали работы СУБД, что может затруднять выявление узких мест в производительности и оптимизацию сложных запросов.

---

## ЗАКЛЮЧЕНИЕ

В ходе выполнения реферата был рассмотрен процесс проектирования реляционных баз данных, включающий концептуальный, логический и физический этапы. Показано, что последовательный подход к проектированию позволяет создать устойчивую, расширяемую и логически целостную структуру хранения данных.

Особое внимание было уделено ORM‑технологиям как связующему звену между объектной моделью приложения и реляционной базой данных. Использование ORM существенно упрощает разработку и сопровождение информационных систем, однако требует осознанного применения с учётом возможных ограничений производительности.

Таким образом, грамотное сочетание классических принципов проектирования баз данных и современных ORM‑инструментов является основой эффективных и надёжных информационных систем.

---

## СПИСОК ЛИТЕРАТУРЫ

- **Проектирование реляционных баз данных: основные принципы** // Habr URL: https://habr.com/ru/companies/otus/articles/731010/ (дата обращения: 14.12.2025).
- **ORM** // Hexlet URL: https://ru.hexlet.io/courses/python-overview-of-web-development/lessons/orm/theory_unit (дата обращения: 14.12.2025).
- **Архитектурные шаблоны взаимодействия с базами данных** // Habr URL: https://habr.com/ru/companies/otus/articles/715702/ (дата обращения: 14.12.2025).
- **SQLAlchemy 2.0 Documentation** // SQLAlchemy URL: https://docs.sqlalchemy.org/en/20/ (дата обращения: 14.12.2025).
- **Django ORM Documentation** // Django URL: https://docs.djangoproject.com/en/6.0/topics/db/models/ (дата обращения: 14.12.2025).
- **Hibernate ORM Documentation** // Hibernate URL: https://hibernate.org/orm/documentation/7.2/ (дата обращения: 14.12.2025).
- **Active Record Basics** // Ruby on Rails Guides URL: https://guides.rubyonrails.org/active_record_basics.html (дата обращения: 14.12.2025).
- **TypeORM Documentation** // TypeORM URL: https://typeorm.io/docs/getting-started (дата обращения: 14.12.2025).

---

**Реферат размещен по ссылке:** https://github.com/AIS-436/Galiullina_Alsu_Rustamovna_12
